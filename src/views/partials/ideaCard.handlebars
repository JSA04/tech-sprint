<div class="col-12 col-sm-6 col-lg-4">
  <div class="card h-100 shadow-sm">
    <div class="card-body d-flex flex-column">
      <div class="d-flex justify-content-between">
        <h5 class="card-title mb-2">{{title}}</h5>
        <span>{{voteScore}} pontos de votos</span>
      </div>

      <div class="mb-2 text-muted">
        {{#if (eq @root.user.id creator.id)}}
          <span class="badge badge-owned">Criada por vocÃª</span>
        {{/if}}
        <span class="badge text-bg-secondary">{{category.name}}</span>
      </div>

      <p class="card-text text-truncate-3">{{description}}</p>

      <div class="small text-muted d-flex align-items-center gap-2">
        Criada por: {{creator.name}} em {{formatDate createdAt}}
      </div>

      <h6 class="text-secondary fw-bold mt-2">AÃ§Ãµes</h6>
      <div class="d-flex flex-nowrap gap-2 align-items-center">
        <a href="/ideas/{{id}}" class="btn btn-primary btn-sm">ğŸ‘ï¸</a>
        {{#if (eq @root.user.id creator.id)}}
          <a href="/ideas/{{id}}/edit" class="btn btn-warning btn-sm">âœï¸</a>
          <form class="d-inline-block m-0 flex-shrink-0" action="/ideas/{{id}}/delete" method="POST">
            <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
            <button type="submit" class="btn btn-danger btn-sm">ğŸ—‘ï¸</button>
          </form>
        {{/if}}
      </div>

      <h6 class="text-secondary fw-bold d-flex align-items-end gap-2 mt-2">
        Votos
        {{#if userAgreed}}
          <span class="text-success fw-normal fs-7">(vocÃª votou a favor)</span>
        {{else if userDisagreed}}
          <span class="text-danger fw-normal fs-7">(vocÃª votou contra)</span>
        {{/if}}
      </h6>

      <div class="d-flex align-items-center gap-2">
        <form action="/votes" method="POST" class="d-inline">
          <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
          <input type="hidden" name="ideaId" value="{{id}}">
          <input type="hidden" name="voteType" value="agree">
          <button type="submit" class="btn btn-success btn-sm {{#if (or (eq @root.user.id creator.id) userAgreed)}}blocked{{/if}}">ğŸ‘</button>
        </form>

        <form action="/votes" method="POST" class="d-inline">
          <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
          <input type="hidden" name="ideaId" value="{{id}}">
          <input type="hidden" name="voteType" value="disagree">
          <button type="submit" class="btn btn-danger btn-sm {{#if (or (eq @root.user.id creator.id) userDisagreed)}}blocked{{/if}}">ğŸ‘</button>
        </form>

        {{#if (or userAgreed userDisagreed)}}
          <form action="/votes/clear" method="POST" class="d-inline">
            <input type="hidden" name="_csrf" value="{{@root.csrfToken}}">
            <input type="hidden" name="ideaId" value="{{id}}">
            <button type="submit" class="btn btn-primary btn-sm">ğŸ”„</button>
          </form>
        {{/if}}
      </div>
    </div>
  </div>
</div>
